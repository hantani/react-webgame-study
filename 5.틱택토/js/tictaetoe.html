<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>틱택토 study</title>
    <style>
      table {
        border-collapse: collapse;
      }
      td {
        border: 1px solid black;
        width: 40px;
        height: 40px;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <!-- <table>
      <tr>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </table> -->
    <script>
      let turn = "O";

      // 테이블 생성
      const tbody = document.createElement("table");
      document.body.append(tbody);

      for (let i = 0; i < 3; i += 1) {
        const tr = document.createElement("tr");
        for (let j = 0; j < 3; j += 1) {
          const td = document.createElement("td");
          tr.append(td);
        }
        tbody.append(tr);
      }

      // 판단 이벤트
      const check = ($td) => {
        const rowIndex = $td.parentElement.rowIndex;
        const cellIndex = $td.cellIndex;

        console.dir($td.parentElement);
        console.dir($td);
        console.log(rowIndex, cellIndex);
      };

      // 테이블 클릭
      const tdClick = ($td) => {
        if (!$td.innerText) {
          $td.innerText = turn;
          check($td);

          if (turn === "O") {
            turn = "X";
          } else if (turn === "X") {
            turn = "O";
          }
        }
      };

      const $tds = document.querySelectorAll("td");

      $tds.forEach(($td) => {
        $td.addEventListener("click", () => {
          tdClick($td);
        });
      });
    </script>
  </body>
</html>
